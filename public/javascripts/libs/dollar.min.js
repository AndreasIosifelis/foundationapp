(function(){Array.prototype.contains=function(b){var c,a=this.length;for(c=0;c<a;c++){if(this[c]===b||this[c]===b){return true}}return false};Array.prototype.pushUnique=function(a){!this.contains(a)?this.push(a):null;return this};Array.prototype.getFirst=function(){return this[0]};Array.prototype.getLast=function(){return this[this.length-1]};Array.prototype.removeAt=function(a,b){b&&b>0?this.splice(a,b):this.splice(a,1)}})();$.extend({config:{appVersion:1,appEnviroment:"development",sessionId:"",rootFolder:"public/"},defined:[],define:function(b,a){this.defined.push(b);this[b]=a;if(a.models){this.loadFiles(a.models)}if(a.extend&&this.hasOwnProperty(b)){$.extend(this[b],this[a.extend])}},renderTpl:function(a,d,c){var e=this;a=this.config.rootFolder+a;var b=$.md5(a);if(this.hasOwnProperty(b)){d.html(this[b](c))}else{$.get(a,function(f){e[b]=Handlebars.compile(f);d.html(e[b](c))})}},loadFile:function(a){var b=this.config.appEnviroment=="development"?a+".js?"+new Date().getTime():a+".min.js?v="+this.config.appVersion;document.write("<script src='"+this.config.rootFolder+b+"'><\/script>")},loadFiles:function(c){if(this.isArray(c)){for(var b=0,a=c.length;b<a;b++){this.loadFile(c[b])}}else{this.loadFile(c)}},application:function(a){$.extend(this.config,a);if(a.controllers){this.loadFiles(a.controllers)}if(a.classes){this.loadFiles(a.classes)}$(function(){a.dispatch()})},isArray:function(a){return Object.prototype.toString.call(a)==="[object Array]"},isFunction:function(a){return Object.prototype.toString.call(a)==="[object Function]"},isObject:function(a){return Object.prototype.toString.call(a)==="[object Object]"},array2string:function(a,d){var c="",b;for(b=0,len=d.length;b<len;b++){c+="<"+a+">"+d[b]+"</"+a+">"}return c},isEmpty:function(a,b){return(a===null)||(a===undefined)||(!b?a==="":false)||($.isArray(a)&&a.length===0)},ucFirst:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},rand:function(){return Math.floor(Math.random()*90000)+10000},initEvents:function(){for(var a in $){if(this.defined.contains(a)){if($.hasOwnProperty(a)){(function(b){if($[b].hasOwnProperty("control")){$.controlEvents($[b].control,$[b])}})(a)}}}},controlEvents:function(b,e){for(var a in b){var d=a.split("|");if(b.hasOwnProperty(a)){$.applyEvent($(d[0]),d[1],b[a],e)}}},applyEvent:function(d,b,a,e){d.unbind(b);d.on(b,function(c){$.isEmpty(e)?a(d,c):a(d,e,c);return false})},applyEvents:function(c,b){for(var a in b){$.applyEvent(c,a,b[a],"")}},hash:function(a){return this.isEmpty(CryptoJS)?"":CryptoJS.SHA512(a).toString()}});